{{ partial "header.html" . }}

<main class="gridWithAside pagesAside container">
{{ partial "logo.html" . }}
  <nav>
    <div class="nav-wrapper">
      <div class="col s12">
        <!-- NOTE: las urls deben depender de la zona-->
        <a id="link_1" href="{{ .Params.url_zona }}" class="breadcrumb">{{ .Params.zona }}</a>
        <a id="link_2" href="{{ .Params.url_cadena }}" class="breadcrumb">Cadena {{ .Params.cadena_pertenencia }}</a>
        <a href="" class="breadcrumb">{{ .Title }}</a>
      </div>
    </div>
  </nav>
  <section class="mainContent">
    <section class="col m8 s12">
      <div class="ad-hotel">
        {{ $imagen_main := .Params.img_main }}
        <img src="{{ $.Site.BaseURL }}{{ $imagen_main }}" alt="" class="responsive-img">

      </div>
    </section>
  </section>
  <aside class="sidebar">
    <div class="itemSide">
      <h2 class="after">Fotos </h2>
      <div class="row">
        {{ $imgcostado := .Params.ruta_img_costado }}
        {{ range .Params.img_costado }}
        <figure class="col m6">
          <a href="{{ $.Site.BaseURL }}{{ $imgcostado }}{{ . }}" class="modal-trigger" data-lightbox="hoteles">
            <img class="responsive-img" src="{{ $.Site.BaseURL }}{{ $imgcostado }}{{ . }}">
          </a>
        </figure>
        {{ end }}
      </div>
    {{ if .Params.video_exist }}
      <div class="itemSide">
      <h2 class="after">Video</h2>
      <div class="row">
        <figure class="col m12 s12">
          <div class="video-container">
            <div id="player"></div>
          </div>

        </figure>
      </div>
      </div>
    {{ end }}
    <div class="itemSide">
      <!-- NOTE: cargar el mapa programaticamente con javascript -->
      <h2 class="after">Mapa</h2>
      <div class="row">
        <figure class="col s12">
          <iframe src="{{ .Params.link_mapa }}" width="100%"
            frameborder="0" style="border:0" allowfullscreen></iframe>
        </figure>
      </div>
    </div>
    <div class="itemSide center">
      <a href="{{ $.Site.BaseURL }}{{ .Params.ficha_hotel }}" target="_blank" class="btn wIcon btn-flat"><span> Descargar Ficha </span><i class="material-icons hide-on-med-and-down">file_download</i></a>
    </div>
  </aside>
</main>

<div class="row container center">
  <img src="{{ $.Site.BaseURL }}{{ .Params.img_logo }}" width="150" alt="">
  <h1 class="zonaColor">{{ .Title }}</h1>
  <p class="cta">
    {{ .Content }}
  </p>
</div>

{{ partial "scripts.html" . }}

{{ partial "footer.html" . }}

<script type="text/javascript" >

  var base_url = window.location.origin;
  var folder = '/ads/';
  var hoteles_zonas = '';

  $( "#link_1" ).each(function( index ) {
    console.log( index + ": " + $(this).attr('href') );
    hoteles_zonas = $(this).attr('href')
    $(this).attr('href', base_url + folder + hoteles_zonas );
    console.log( index + "cambia a : " + $(this).attr('href') );
  });

  $( "#link_2" ).each(function( index ) {
    console.log( index + ": " + $(this).attr('href') );
    hoteles_zonas = $(this).attr('href')
    $(this).attr('href', base_url + folder + hoteles_zonas );
    console.log( index + "cambia a : " + $(this).attr('href') );
  });

</script>

<script type="text/javascript" data-id_video="{{ .Params.id_video }}" id="script_video">

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";

var script_video = document.querySelector('#script_video');
var id_video = script_video.dataset["id_video"];
console.log(id_video);
script_video.parentNode.insertBefore(tag, script_video);

var player;
function onYouTubeIframeAPIReady(){
  player = new YT.Player('player', {
    height: '100%',
    width: '100%',
    videoId: id_video
  })
}

function stopVideo(){
  player.stopVideo();
}
function simplePlay(){
  player.playVideo();
}
</script>
